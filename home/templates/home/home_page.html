 
{% load i18n wagtailcore_tags static %}

<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TecnoServiços - Soluções Completas de Conectividade</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>   
    
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    
</head>
<body class="text-slate-800">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/" class="flex items-center space-x-2">
                <svg class="h-8 w-8 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>
                <span class="text-2xl font-bold text-slate-800">TecnoServiços</span>
            </a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#services" class="text-slate-600 hover:text-red-600 font-medium">Nossos Serviços</a>
                <a href="#diferenciais" class="text-slate-600 hover:text-red-600 font-medium">Diferenciais</a>
                <a href="#process" class="text-slate-600 hover:text-red-600 font-medium">Processo</a>
                <a href="/blog" class="text-slate-600 hover:text-red-600 font-medium">Blog</a>
                <a href="/contact" class="text-slate-600 hover:text-red-600 font-medium">Contacto</a>
            </div>
            <a href="#" class="hidden sm:block bg-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-red-700 transition-colors font-semibold">{% trans "Pedir Orçamento" %}</a>
        </nav>
    </header>

   <main>
    {# ✅ 1. ADICIONE O LOOP FOR AQUI PARA COMEÇAR A PERCORRER OS BLOCOS #}
    {% for block in page.body %}

        {# Agora a variável 'block' existe e este 'if' pode funcionar #}
        {% if block.block_type == 'hero' %}
        <section class="bg-white">
            {# ... todo o seu conteúdo do herói ... #}
        </section>
        {% endif %}

        {# 
          AQUI VIRÃO OS OUTROS BLOCOS, COMO 'services', 'features', etc.
          Cada um terá seu próprio if, como:
          {% if block.block_type == 'services' %}
              <section id="services" ...> ... </section>
          {% endif %}
        #}
    
    {% endfor %}
    {# ✅ 2. E TERMINE O LOOP NO FINAL #}

    {# 
       ATENÇÃO: As seções abaixo estão estáticas. Elas só aparecerão 
       se você as converter para blocos do Wagtail e colocá-las DENTRO do loop acima.
    #}
    <section id="services" class="py-20"> ... </section>
    <section id="diferenciais" class="py-20 bg-slate-100"> ... </section>
    {# ... etc ... #}

</main>

    <footer class="bg-slate-800 text-slate-300">
        <div class="container mx-auto px-6 py-12 text-center">
            <p>© {% now "Y" %} TecnoServiços. {% trans "Todos os direitos reservados." %}</p>
        </div>
    </footer>
    
    <script>
        // Script para Acordeão (FAQ) e Herói Dinâmico (Vanilla JS)
        document.addEventListener('DOMContentLoaded', function() {
            // FAQ Accordion
            const accordionButtons = document.querySelectorAll('.accordion-button');
            accordionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.parentElement.nextElementSibling;
                    button.classList.toggle('open');
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                });
            });

            // Dynamic Text Rotator in Hero
            const dynamicTextContainer = document.getElementById('dynamic-text-container');
            if (dynamicTextContainer) {
                const textElement = dynamicTextContainer.querySelector('p');
                const phrases heroPhrases;
                let currentIndex = 0;
                function changeText() {
                    textElement.classList.add('dynamic-text-leave');
                    setTimeout(() => {
                        currentIndex = (currentIndex + 1) % phrases.length;
                        textElement.textContent = phrases[currentIndex];
                        textElement.classList.remove('dynamic-text-leave');
                        textElement.classList.add('dynamic-text-enter');
                    }, 500);
                    setTimeout(() => {
                         textElement.classList.remove('dynamic-text-enter');
                    }, 1000);
                }
                textElement.textContent = phrases[currentIndex];
                textElement.classList.add('dynamic-text-enter');
                setTimeout(() => textElement.classList.remove('dynamic-text-enter'), 500);
                setInterval(changeText, 3000);
            }
        });

        // Script para Abas (Tabs) - (jQuery)
        $(document).ready(function() {
            $('.tabs-menu li').on('click', function() {
                var tab_id = $(this).attr('data-tab');
                $('.tabs-menu li').removeClass('current').addClass('text-slate-600 hover:bg-slate-300');
                $('.tab-content').removeClass('current');
                $(this).addClass('current').removeClass('text-slate-600 hover:bg-slate-300');
                $("#" + tab_id).addClass('current');
            });
        });
    </script>
</body>
</html>
```